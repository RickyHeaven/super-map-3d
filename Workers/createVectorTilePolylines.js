define(["./AttributeCompression-7ac8aa9b","./Cartesian3-9e1fac2b","./Cartographic-832093e6","./Ellipsoid-a181f4f7","./IndexDatatype-42a29532","./Math-42d8c121","./Rectangle-15196776","./createTaskProcessorWorker","./Check-1ab97039","./defaultValue-a9572088","./WebGLConstants-ade65f0f"],(function(a,e,r,n,t,o,u,f,c,i,s){"use strict";var p=32767,d=new r.a,b=new e.o;var w=new u.h,h=new n.t,l=new e.o,y={min:void 0,max:void 0};var k=new e.o,v=new e.o,A=new e.o,g=new e.o,x=new e.o;return f((function(f,c){var i=new Uint16Array(f.positions),s=new Uint16Array(f.widths),D=new Uint32Array(f.counts),I=new Uint16Array(f.batchIds);!function(a){a=new Float64Array(a);var r=0;y.min=a[r++],y.max=a[r++],u.h.unpack(a,r,w),r+=u.h.packedLength,n.t.unpack(a,r,h),r+=n.t.packedLength,e.o.unpack(a,r,l)}(f.packedBuffer);var m,E=h,T=l,U=function(n,t,u,f,c){var i=n.length/3,s=n.subarray(0,i),w=n.subarray(i,2*i),h=n.subarray(2*i,3*i);a.t.zigZagDeltaDecode(s,w,h);for(var l=new Float32Array(n.length),y=0;y<i;++y){var k=s[y],v=w[y],A=h[y],g=o.e.lerp(t.west,t.east,k/p),x=o.e.lerp(t.south,t.north,v/p),D=o.e.lerp(u,f,A/p),I=r.a.fromRadians(g,x,D,d),m=c.cartographicToCartesian(I,b);e.o.pack(m,l,3*y)}return l}(i,w,y.min,y.max,E),C=U.length/3,F=4*C-4,N=new Float32Array(3*F),P=new Float32Array(3*F),L=new Float32Array(3*F),R=new Float32Array(2*F),S=new Uint16Array(F),_=0,G=0,W=0,B=0,M=D.length;for(m=0;m<M;++m){for(var z=D[m],H=s[m],O=I[m],V=0;V<z;++V){var Y;if(0===V){var Z=e.o.unpack(U,3*B,k),j=e.o.unpack(U,3*(B+1),v);Y=e.o.subtract(Z,j,A),e.o.add(Z,Y,Y)}else Y=e.o.unpack(U,3*(B+V-1),A);var q,J=e.o.unpack(U,3*(B+V),g);if(V===z-1){var K=e.o.unpack(U,3*(B+z-1),k),Q=e.o.unpack(U,3*(B+z-2),v);q=e.o.subtract(K,Q,x),e.o.add(K,q,q)}else q=e.o.unpack(U,3*(B+V+1),x);e.o.subtract(Y,T,Y),e.o.subtract(J,T,J),e.o.subtract(q,T,q);for(var X=V===z-1?2:4,$=0===V?2:0;$<X;++$){e.o.pack(J,N,_),e.o.pack(Y,P,_),e.o.pack(q,L,_),_+=3;var aa=$-2<0?-1:1;R[G++]=$%2*2-1,R[G++]=aa*H,S[W++]=O}}B+=z}var ea=t.IndexDatatype.createTypedArray(F,6*C-6),ra=0,na=0;for(M=C-1,m=0;m<M;++m)ea[na++]=ra,ea[na++]=ra+2,ea[na++]=ra+1,ea[na++]=ra+1,ea[na++]=ra+2,ea[na++]=ra+3,ra+=4;return c.push(N.buffer,P.buffer,L.buffer),c.push(R.buffer,S.buffer,ea.buffer),{indexDatatype:2===ea.BYTES_PER_ELEMENT?t.IndexDatatype.UNSIGNED_SHORT:t.IndexDatatype.UNSIGNED_INT,currentPositions:N.buffer,previousPositions:P.buffer,nextPositions:L.buffer,expandAndWidth:R.buffer,batchIds:S.buffer,indices:ea.buffer}}))}));
