define(["./defaultValue-a9572088","./Ellipsoid-a181f4f7","./arrayRemoveDuplicates-d492b4a7","./BoundingRectangle-ef352e18","./buildModuleUrl-0b6ed7f4","./Cartesian3-9e1fac2b","./ComponentDatatype-00a8741a","./PolylineVolumeGeometryLibrary-5bbf5820","./Check-1ab97039","./GeometryAttribute-96eb6e6a","./GeometryAttributes-ba165842","./IndexDatatype-42a29532","./Math-42d8c121","./PolygonPipeline-2e7b86a0","./PrimitiveType-56cd8f05","./Cartographic-832093e6","./Rectangle-15196776","./FeatureDetection-b832308f","./defer-027bcf35","./Event-086a9f30","./RuntimeError-7a3815c0","./WebGLConstants-ade65f0f","./Cartesian4-c70aabd2","./EllipsoidTangentPlane-c14b1868","./IntersectionTests-b7b35aa4","./Plane-5520c09d","./PolylinePipeline-6c04f0e5","./EllipsoidGeodesic-acb826bd","./EllipsoidRhumbLine-07313960"],(function(e,t,i,n,o,r,a,s,p,l,c,u,d,h,y,f,g,v,b,_,m,P,k,E,w,D,L,T,A){"use strict";function C(i){var n=(i=e.u(i,e.u.EMPTY_OBJECT)).polylinePositions,o=i.shapePositions;if(!e.e(n))throw new p.t("options.polylinePositions is required.");if(!e.e(o))throw new p.t("options.shapePositions is required.");this._positions=n,this._shape=o,this._ellipsoid=t.t.clone(e.u(i.ellipsoid,t.t.WGS84)),this._cornerType=e.u(i.cornerType,s.S.ROUNDED),this._granularity=e.u(i.granularity,d.e.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeOutlineGeometry";var a=1+n.length*r.o.packedLength;a+=1+o.length*t.o.packedLength,this.packedLength=a+t.t.packedLength+2}C.pack=function(i,n,o){if(!e.e(i))throw new p.t("value is required");if(!e.e(n))throw new p.t("array is required");o=e.u(o,0);var a,s=i._positions,l=s.length;for(n[o++]=l,a=0;a<l;++a,o+=r.o.packedLength)r.o.pack(s[a],n,o);var c=i._shape;for(l=c.length,n[o++]=l,a=0;a<l;++a,o+=t.o.packedLength)t.o.pack(c[a],n,o);return t.t.pack(i._ellipsoid,n,o),o+=t.t.packedLength,n[o++]=i._cornerType,n[o]=i._granularity,n};var G=t.t.clone(t.t.UNIT_SPHERE),R={polylinePositions:void 0,shapePositions:void 0,ellipsoid:G,height:void 0,cornerType:void 0,granularity:void 0};C.unpack=function(i,n,o){if(!e.e(i))throw new p.t("array is required");n=e.u(n,0);var a,s=i[n++],l=new Array(s);for(a=0;a<s;++a,n+=r.o.packedLength)l[a]=r.o.unpack(i,n);s=i[n++];var c=new Array(s);for(a=0;a<s;++a,n+=t.o.packedLength)c[a]=t.o.unpack(i,n);var u=t.t.unpack(i,n,G);n+=t.t.packedLength;var d=i[n++],h=i[n];return e.e(o)?(o._positions=l,o._shape=c,o._ellipsoid=t.t.clone(u,o._ellipsoid),o._cornerType=d,o._granularity=h,o):(R.polylinePositions=l,R.shapePositions=c,R.cornerType=d,R.granularity=h,new C(R))};var I=new n.f;return C.createGeometry=function(e){var t=e._positions,p=i.D(t,r.o.equalsEpsilon),d=e._shape;if(d=s.J.removeDuplicatesFromShape(d),!(p.length<2||d.length<3)){h.A.computeWindingOrder2D(d)===h.W.CLOCKWISE&&d.reverse();var f=n.f.fromPoints(d,I);return function(e,t){var i=new c.a;i.position=new l.o({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:e});var n,r,s=t.length,p=i.position.values.length/3,d=e.length/3/s,h=u.IndexDatatype.createTypedArray(p,2*s*(d+1)),f=0,g=(n=0)*s;for(r=0;r<s-1;r++)h[f++]=r+g,h[f++]=r+g+1;for(h[f++]=s-1+g,h[f++]=g,g=(n=d-1)*s,r=0;r<s-1;r++)h[f++]=r+g,h[f++]=r+g+1;for(h[f++]=s-1+g,h[f++]=g,n=0;n<d-1;n++){var v=s*n,b=v+s;for(r=0;r<s;r++)h[f++]=r+v,h[f++]=r+b}return new l.I({attributes:i,indices:u.IndexDatatype.createTypedArray(p,h),boundingSphere:o.i.fromVertices(e),primitiveType:y._0x4e53a2.LINES})}(s.J.computePositions(p,d,f,e,!1),d)}},function(i,n){return e.e(n)&&(i=C.unpack(i,n)),i._ellipsoid=t.t.clone(i._ellipsoid),C.createGeometry(i)}}));
