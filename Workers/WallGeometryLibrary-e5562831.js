define(["exports","./arrayRemoveDuplicates-d492b4a7","./Cartographic-832093e6","./defaultValue-a9572088","./Math-42d8c121","./PolylinePipeline-6c04f0e5","./GeometryAttribute-96eb6e6a","./PrimitiveType-56cd8f05","./Cartesian3-9e1fac2b"],(function(e,t,r,i,a,o,n,s,h){"use strict";var l={};function g(e,t){return a.e.equalsEpsilon(e.latitude,t.latitude,a.e.EPSILON10)&&a.e.equalsEpsilon(e.longitude,t.longitude,a.e.EPSILON10)}var u=new r.a,c=new r.a;var m=new Array(2),p=new Array(2),y={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};function v(e,t){for(var r=new Array(e.length),i=0;i<e.length;i+=3){var a=new h.o(e[i],e[i+1],e[i+2]);s.y.multiplyByPoint(t,a,a),r[i]=a.x,r[i+1]=a.y,r[i+2]=a.z}return r}l.computePositions=function(e,l,A,f,w,d,P){var F=function(e,a,o,n){var s=(a=t.D(a,h.o.equalsEpsilon)).length;if(!(s<2)){var l=i.e(n),m=i.e(o),p=!0,y=new Array(s),v=new Array(s),A=new Array(s),f=a[0];y[0]=f;var w=e.cartesianToCartographic(f,u);m&&(w.height=o[0]),p=p&&0==w.height,v[0]=w.height,A[0]=l?n[0]:0;for(var d=1,P=1;P<s;++P){var F=a[P],b=e.cartesianToCartographic(F,c);m&&(b.height=o[P]),p=p&&0==b.height,g(w,b)?w.height<b.height&&(v[d-1]=b.height):(y[d]=F,v[d]=b.height,A[d]=l?n[P]:0,r.a.clone(b,w),++d)}if(!(p||d<2))return y.length=d,v.length=d,A.length=d,{positions:y,topHeights:v,bottomHeights:A}}}(e,l,A,f);if(i.e(F)){var b=n.m.eastNorthUpToFixedFrame(F.positions[0],e,new s.y),C=s.y.inverse(b,new s.y);l=F.positions,A=F.topHeights,f=F.bottomHeights;var E,x,D,H,T=l.length,q=T-2,L=a.e.chordLength(w,e.maximumRadius),N=y;if(N.minDistance=L,N.ellipsoid=e,d){var O,I=0;for(O=0;O<T-1;O++)I+=o.m.numberOfPoints(l[O],l[O+1],L)+1;E=new Float64Array(3*I),x=new Float64Array(3*I),i.e(P)&&(D=new Float64Array(3*I),H=new Float64Array(3*I));var R=m,S=p;N.positions=R,N.height=S;var z=0;for(O=0;O<T-1;O++){R[0]=l[O],R[1]=l[O+1],S[0]=A[O],S[1]=A[O+1];var B=o.m.generateArc(N);E.set(B,z),i.e(P)&&D.set(v(B,C),z),S[0]=f[O],S[1]=f[O+1],x.set(o.m.generateArc(N),z),i.e(P)&&H.set(v(o.m.generateArc(N),C),z),z+=B.length}}else N.positions=l,N.height=A,E=new Float64Array(o.m.generateArc(N)),i.e(P)&&(D=new Float64Array(v(o.m.generateArc(N)))),N.height=f,x=new Float64Array(o.m.generateArc(N)),i.e(P)&&(H=new Float64Array(v(o.m.generateArc(N))));var G={pos:{bottomPositions:x,topPositions:E,numCorners:q}};return i.e(P)&&(G.localPos={bottomPositions:H,topPositions:D,numCorners:q}),G}},e.D=l}));
